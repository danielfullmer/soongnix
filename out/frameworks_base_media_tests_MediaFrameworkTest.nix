{ android_test }:
let

mediaframeworktest = android_test {
    name = "mediaframeworktest";
    srcs = [
        "src/com/android/mediaframeworktest/AudioTestHarnessTemplateRunner.java"
        "src/com/android/mediaframeworktest/Camera2InstrumentationTestRunner.java"
        "src/com/android/mediaframeworktest/Camera2SurfaceViewActivity.java"
        "src/com/android/mediaframeworktest/Camera2SurfaceViewTestCase.java"
        "src/com/android/mediaframeworktest/CameraStressTestRunner.java"
        "src/com/android/mediaframeworktest/MediaFrameworkIntegrationTestRunner.java"
        "src/com/android/mediaframeworktest/MediaFrameworkPerfTestRunner.java"
        "src/com/android/mediaframeworktest/MediaFrameworkPowerTestRunner.java"
        "src/com/android/mediaframeworktest/MediaFrameworkTest.java"
        "src/com/android/mediaframeworktest/MediaFrameworkTestRunner.java"
        "src/com/android/mediaframeworktest/MediaFrameworkUnitTestRunner.java"
        "src/com/android/mediaframeworktest/MediaNames.java"
        "src/com/android/mediaframeworktest/MediaPlayerStressTestRunner.java"
        "src/com/android/mediaframeworktest/MediaProfileReader.java"
        "src/com/android/mediaframeworktest/MediaRecorderStressTestRunner.java"
        "src/com/android/mediaframeworktest/MediaTestUtil.java"
        "src/com/android/mediaframeworktest/functional/CameraTest.java"
        "src/com/android/mediaframeworktest/functional/CodecTest.java"
        "src/com/android/mediaframeworktest/functional/EnergyProbe.java"
        "src/com/android/mediaframeworktest/functional/MediaMetadataTest.java"
        "src/com/android/mediaframeworktest/functional/MediaMimeTest.java"
        "src/com/android/mediaframeworktest/functional/MediaPlayerInvokeTest.java"
        "src/com/android/mediaframeworktest/functional/TonesAutoTest.java"
        "src/com/android/mediaframeworktest/functional/audio/MediaAudioEffectTest.java"
        "src/com/android/mediaframeworktest/functional/audio/MediaAudioManagerTest.java"
        "src/com/android/mediaframeworktest/functional/audio/MediaAudioTrackTest.java"
        "src/com/android/mediaframeworktest/functional/audio/MediaBassBoostTest.java"
        "src/com/android/mediaframeworktest/functional/audio/MediaEnvReverbTest.java"
        "src/com/android/mediaframeworktest/functional/audio/MediaEqualizerTest.java"
        "src/com/android/mediaframeworktest/functional/audio/MediaPresetReverbTest.java"
        "src/com/android/mediaframeworktest/functional/audio/MediaVirtualizerTest.java"
        "src/com/android/mediaframeworktest/functional/audio/MediaVisualizerTest.java"
        "src/com/android/mediaframeworktest/functional/audio/SimTonesTest.java"
        "src/com/android/mediaframeworktest/functional/camera/CameraFunctionalTest.java"
        "src/com/android/mediaframeworktest/functional/camera/CameraPairwiseTest.java"
        "src/com/android/mediaframeworktest/functional/mediaplayback/MediaPlayerApiTest.java"
        "src/com/android/mediaframeworktest/functional/mediarecorder/MediaRecorderTest.java"
        "src/com/android/mediaframeworktest/functional/mediatranscodemanager/MediaTranscodeManagerTest.java"
        "src/com/android/mediaframeworktest/helpers/AssertHelpers.java"
        "src/com/android/mediaframeworktest/helpers/Camera2Focuser.java"
        "src/com/android/mediaframeworktest/helpers/CameraErrorCollector.java"
        "src/com/android/mediaframeworktest/helpers/CameraTestHelper.java"
        "src/com/android/mediaframeworktest/helpers/CameraTestResultPrinter.java"
        "src/com/android/mediaframeworktest/helpers/CameraTestUtils.java"
        "src/com/android/mediaframeworktest/helpers/CameraUtils.java"
        "src/com/android/mediaframeworktest/helpers/InMatcher.java"
        "src/com/android/mediaframeworktest/helpers/Preconditions.java"
        "src/com/android/mediaframeworktest/helpers/StaticMetadata.java"
        "src/com/android/mediaframeworktest/integration/CameraBinderTest.java"
        "src/com/android/mediaframeworktest/integration/CameraBinderTestUtils.java"
        "src/com/android/mediaframeworktest/integration/CameraDeviceBinderTest.java"
        "src/com/android/mediaframeworktest/performance/MediaPlayerPerformance.java"
        "src/com/android/mediaframeworktest/power/MediaPlayerPowerTest.java"
        "src/com/android/mediaframeworktest/stress/Camera2CaptureRequestTest.java"
        "src/com/android/mediaframeworktest/stress/Camera2RecordingTest.java"
        "src/com/android/mediaframeworktest/stress/Camera2ReprocessCaptureTest.java"
        "src/com/android/mediaframeworktest/stress/Camera2StillCaptureTest.java"
        "src/com/android/mediaframeworktest/stress/Camera2SwitchPreviewTest.java"
        "src/com/android/mediaframeworktest/stress/CameraStressTest.java"
        "src/com/android/mediaframeworktest/stress/MediaPlayerStreamingStressTest.java"
        "src/com/android/mediaframeworktest/stress/MediaPlayerStressTest.java"
        "src/com/android/mediaframeworktest/stress/MediaRecorderStressTest.java"
        "src/com/android/mediaframeworktest/template/AudioTestHarnessTemplateAndroidTest.java"
        "src/com/android/mediaframeworktest/unit/ByteArrayHelpers.java"
        "src/com/android/mediaframeworktest/unit/CameraMetadataTest.java"
        "src/com/android/mediaframeworktest/unit/CameraOpenTest.java"
        "src/com/android/mediaframeworktest/unit/CameraUtilsTypeReferenceTest.java"
        "src/com/android/mediaframeworktest/unit/CameraUtilsUncheckedThrowTest.java"
        "src/com/android/mediaframeworktest/unit/ExifInterfaceTest.java"
        "src/com/android/mediaframeworktest/unit/ImageReaderTest.java"
        "src/com/android/mediaframeworktest/unit/MediaFileTest.java"
        "src/com/android/mediaframeworktest/unit/MediaInserterTest.java"
        "src/com/android/mediaframeworktest/unit/MediaMetadataRetrieverTest.java"
        "src/com/android/mediaframeworktest/unit/MediaPlayerGetCurrentPositionStateUnitTest.java"
        "src/com/android/mediaframeworktest/unit/MediaPlayerGetDurationStateUnitTest.java"
        "src/com/android/mediaframeworktest/unit/MediaPlayerGetVideoHeightStateUnitTest.java"
        "src/com/android/mediaframeworktest/unit/MediaPlayerGetVideoWidthStateUnitTest.java"
        "src/com/android/mediaframeworktest/unit/MediaPlayerIsPlayingStateUnitTest.java"
        "src/com/android/mediaframeworktest/unit/MediaPlayerMetadataParserTest.java"
        "src/com/android/mediaframeworktest/unit/MediaPlayerMethodUnderTest.java"
        "src/com/android/mediaframeworktest/unit/MediaPlayerPauseStateUnitTest.java"
        "src/com/android/mediaframeworktest/unit/MediaPlayerResetStateUnitTest.java"
        "src/com/android/mediaframeworktest/unit/MediaPlayerSeekToStateUnitTest.java"
        "src/com/android/mediaframeworktest/unit/MediaPlayerSetAudioStreamTypeStateUnitTest.java"
        "src/com/android/mediaframeworktest/unit/MediaPlayerSetLoopingStateUnitTest.java"
        "src/com/android/mediaframeworktest/unit/MediaPlayerSetVolumeStateUnitTest.java"
        "src/com/android/mediaframeworktest/unit/MediaPlayerStartStateUnitTest.java"
        "src/com/android/mediaframeworktest/unit/MediaPlayerStateErrors.java"
        "src/com/android/mediaframeworktest/unit/MediaPlayerStateUnitTestTemplate.java"
        "src/com/android/mediaframeworktest/unit/MediaPlayerStopStateUnitTest.java"
        "src/com/android/mediaframeworktest/unit/MediaRecorderMethodUnderTest.java"
        "src/com/android/mediaframeworktest/unit/MediaRecorderPrepareStateUnitTest.java"
        "src/com/android/mediaframeworktest/unit/MediaRecorderResetStateUnitTest.java"
        "src/com/android/mediaframeworktest/unit/MediaRecorderSetAudioEncoderStateUnitTest.java"
        "src/com/android/mediaframeworktest/unit/MediaRecorderSetAudioSourceStateUnitTest.java"
        "src/com/android/mediaframeworktest/unit/MediaRecorderSetOutputFileStateUnitTest.java"
        "src/com/android/mediaframeworktest/unit/MediaRecorderSetOutputFormatStateUnitTest.java"
        "src/com/android/mediaframeworktest/unit/MediaRecorderStartStateUnitTest.java"
        "src/com/android/mediaframeworktest/unit/MediaRecorderStateErrors.java"
        "src/com/android/mediaframeworktest/unit/MediaRecorderStateUnitTestTemplate.java"
        "src/com/android/mediaframeworktest/unit/MediaRecorderStopStateUnitTest.java"
        "src/com/android/mediaframeworktest/unit/RangeTest.java"
        "src/com/android/mediaframeworktest/unit/RationalTest.java"
        "src/com/android/mediaframeworktest/unit/SurfaceUtilsTest.java"
    ];
    libs = [
        "android.test.runner"
        "android.test.base"
    ];
    static_libs = [
        "mockito-target-minus-junit4"
        "androidx.test.ext.junit"
        "androidx.test.rules"
        "android-ex-camera2"
    ];
    platform_apis = true;
};

in { inherit mediaframeworktest; }
