{ java_library_host }:
let

#  Copyright 2019 The Android Open Source Project
#
#  Licensed under the Apache License, Version 2.0 (the "License");
#  you may not use this file except in compliance with the License.
#  You may obtain a copy of the License at
#
#       http://www.apache.org/licenses/LICENSE-2.0
#
#  Unless required by applicable law or agreed to in writing, software
#  distributed under the License is distributed on an "AS IS" BASIS,
#  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
#  See the License for the specific language governing permissions and
#  limitations under the License.

tradefed-test-framework = java_library_host {
    name = "tradefed-test-framework";
    defaults = ["tradefed_defaults"];
    srcs = [
        "com/android/tradefed/device/metric/AtraceCollector.java"
        "com/android/tradefed/device/metric/AtraceRunMetricCollector.java"
        "com/android/tradefed/device/metric/BuddyInfoMetricCollector.java"
        "com/android/tradefed/device/metric/BugreportzMetricCollector.java"
        "com/android/tradefed/device/metric/DumpHeapCollector.java"
        "com/android/tradefed/device/metric/GraphicsStatsMetricCollector.java"
        "com/android/tradefed/device/metric/HostStatsdMetricCollector.java"
        "com/android/tradefed/device/metric/IonHeapInfoMetricCollector.java"
        "com/android/tradefed/device/metric/LogcatTimingMetricCollector.java"
        "com/android/tradefed/device/metric/MemInfoMetricCollector.java"
        "com/android/tradefed/device/metric/PagetypeInfoMetricCollector.java"
        "com/android/tradefed/device/metric/PerfettoPullerMetricCollector.java"
        "com/android/tradefed/device/metric/ProcessMaxMemoryCollector.java"
        "com/android/tradefed/device/metric/RebootReasonCollector.java"
        "com/android/tradefed/device/metric/RuntimeRestartCollector.java"
        "com/android/tradefed/device/metric/ScheduleMultipleDeviceMetricCollector.java"
        "com/android/tradefed/device/metric/ScheduledDeviceMetricCollector.java"
        "com/android/tradefed/device/metric/TemperatureCollector.java"
        "com/android/tradefed/device/metric/TraceCmdCollector.java"
        "com/android/tradefed/device/metric/TraceMetricCollector.java"
        "com/android/tradefed/postprocessor/PerfettoGenericPostProcessor.java"
        "com/android/tradefed/targetprep/AllTestAppsInstallSetup.java"
        "com/android/tradefed/targetprep/AoaTargetPreparer.java"
        "com/android/tradefed/targetprep/AppSetup.java"
        "com/android/tradefed/targetprep/CdmaDeviceFlasher.java"
        "com/android/tradefed/targetprep/CpuThrottlingWaiter.java"
        "com/android/tradefed/targetprep/CrashCollector.java"
        "com/android/tradefed/targetprep/DeviceStorageFiller.java"
        "com/android/tradefed/targetprep/DeviceStringPusher.java"
        "com/android/tradefed/targetprep/DeviceWiper.java"
        "com/android/tradefed/targetprep/DisableSELinuxTargetPreparer.java"
        "com/android/tradefed/targetprep/DynamicSystemPreparer.java"
        "com/android/tradefed/targetprep/EraseUserDataPreparer.java"
        "com/android/tradefed/targetprep/FastbootCommandPreparer.java"
        "com/android/tradefed/targetprep/FolderSaver.java"
        "com/android/tradefed/targetprep/InstallAllTestZipAppsSetup.java"
        "com/android/tradefed/targetprep/InstallApkSetup.java"
        "com/android/tradefed/targetprep/InstallBuildEnvApkSetup.java"
        "com/android/tradefed/targetprep/InstrumentationPreparer.java"
        "com/android/tradefed/targetprep/NativeLeakCollector.java"
        "com/android/tradefed/targetprep/PerfettoPreparer.java"
        "com/android/tradefed/targetprep/PushFileInvoker.java"
        "com/android/tradefed/targetprep/PushFilePreparer.java"
        "com/android/tradefed/targetprep/PythonVirtualenvPreparer.java"
        "com/android/tradefed/targetprep/RebootTargetPreparer.java"
        "com/android/tradefed/targetprep/RemoveSystemAppPreparer.java"
        "com/android/tradefed/targetprep/RestartSystemServerTargetPreparer.java"
        "com/android/tradefed/targetprep/RootTargetPreparer.java"
        "com/android/tradefed/targetprep/RunHostCommandTargetPreparer.java"
        "com/android/tradefed/targetprep/RunHostScriptTargetPreparer.java"
        "com/android/tradefed/targetprep/SemaphoreTokenTargetPreparer.java"
        "com/android/tradefed/targetprep/SideloadOtaTargetPreparer.java"
        "com/android/tradefed/targetprep/StopServicesSetup.java"
        "com/android/tradefed/targetprep/SwitchUserTargetPreparer.java"
        "com/android/tradefed/targetprep/SystemUpdaterDeviceFlasher.java"
        "com/android/tradefed/targetprep/TearDownPassThroughPreparer.java"
        "com/android/tradefed/targetprep/TemperatureThrottlingWaiter.java"
        "com/android/tradefed/targetprep/TestFilePushSetup.java"
        "com/android/tradefed/targetprep/TestSystemAppInstallSetup.java"
        "com/android/tradefed/targetprep/TimeWaster.java"
        "com/android/tradefed/targetprep/UserCleaner.java"
        "com/android/tradefed/targetprep/WaitForDeviceDatetimePreparer.java"
        "com/android/tradefed/targetprep/WifiPreparer.java"
        "com/android/tradefed/targetprep/adb/AdbStopServerPreparer.java"
        "com/android/tradefed/targetprep/app/NoApkTestSkipper.java"
        "com/android/tradefed/targetprep/companion/CheckPairingPreparer.java"
        "com/android/tradefed/targetprep/companion/CompanionAllocator.java"
        "com/android/tradefed/targetprep/companion/CompanionAwarePreparer.java"
        "com/android/tradefed/targetprep/companion/CompanionDeviceTracker.java"
        "com/android/tradefed/targetprep/companion/CompanionRunCommandTargetPreparer.java"
        "com/android/tradefed/targetprep/companion/CompanionTestAppInstallSetup.java"
        "com/android/tradefed/targetprep/multi/MergeMultiBuildTargetPreparer.java"
        "com/android/tradefed/targetprep/multi/MixImageZipPreparer.java"
        "com/android/tradefed/testtype/AndroidJUnitTest.java"
        "com/android/tradefed/testtype/ArtRunTest.java"
        "com/android/tradefed/testtype/ClangCodeCoverageListener.java"
        "com/android/tradefed/testtype/CodeCoverageReportFormat.java"
        "com/android/tradefed/testtype/CodeCoverageTest.java"
        "com/android/tradefed/testtype/CompanionAwareTest.java"
        "com/android/tradefed/testtype/DeviceJUnit4ClassRunner.java"
        "com/android/tradefed/testtype/DeviceSuite.java"
        "com/android/tradefed/testtype/DeviceTestCase.java"
        "com/android/tradefed/testtype/DeviceTestResult.java"
        "com/android/tradefed/testtype/DeviceTestSuite.java"
        "com/android/tradefed/testtype/GTest.java"
        "com/android/tradefed/testtype/GTestBase.java"
        "com/android/tradefed/testtype/GTestListTestParser.java"
        "com/android/tradefed/testtype/GTestListener.java"
        "com/android/tradefed/testtype/GTestResultParser.java"
        "com/android/tradefed/testtype/GTestXmlResultParser.java"
        "com/android/tradefed/testtype/GoogleBenchmarkResultParser.java"
        "com/android/tradefed/testtype/GoogleBenchmarkTest.java"
        "com/android/tradefed/testtype/HostGTest.java"
        "com/android/tradefed/testtype/HostTest.java"
        "com/android/tradefed/testtype/InstalledInstrumentationsTest.java"
        "com/android/tradefed/testtype/InstrumentationFileTest.java"
        "com/android/tradefed/testtype/InstrumentationListener.java"
        "com/android/tradefed/testtype/InstrumentationSerialTest.java"
        "com/android/tradefed/testtype/InstrumentationTest.java"
        "com/android/tradefed/testtype/IsolatedHostTest.java"
        "com/android/tradefed/testtype/JUnitRunUtil.java"
        "com/android/tradefed/testtype/JavaCodeCoverageListener.java"
        "com/android/tradefed/testtype/MetricTestCase.java"
        "com/android/tradefed/testtype/NativeBenchmarkTest.java"
        "com/android/tradefed/testtype/NativeBenchmarkTestParser.java"
        "com/android/tradefed/testtype/NativeCodeCoverageListener.java"
        "com/android/tradefed/testtype/NativeStressTest.java"
        "com/android/tradefed/testtype/NativeStressTestParser.java"
        "com/android/tradefed/testtype/PythonUnitTestResultParser.java"
        "com/android/tradefed/testtype/PythonUnitTestRunner.java"
        "com/android/tradefed/testtype/UiAutomatorRunner.java"
        "com/android/tradefed/testtype/UiAutomatorTest.java"
        "com/android/tradefed/testtype/binary/ExecutableBaseTest.java"
        "com/android/tradefed/testtype/binary/ExecutableHostTest.java"
        "com/android/tradefed/testtype/binary/ExecutableTargetTest.java"
        "com/android/tradefed/testtype/host/CoverageMeasurementForwarder.java"
        "com/android/tradefed/testtype/host/PrettyTestEventLogger.java"
        "com/android/tradefed/testtype/junit4/AfterClassWithInfo.java"
        "com/android/tradefed/testtype/junit4/BaseHostJUnit4Test.java"
        "com/android/tradefed/testtype/junit4/BeforeClassWithInfo.java"
        "com/android/tradefed/testtype/junit4/CarryDnaeError.java"
        "com/android/tradefed/testtype/junit4/DeviceParameterizedRunner.java"
        "com/android/tradefed/testtype/junit4/DeviceTestRunOptions.java"
        "com/android/tradefed/testtype/junit4/JUnit4ResultForwarder.java"
        "com/android/tradefed/testtype/junit4/LongevityHostRunner.java"
        "com/android/tradefed/testtype/junit4/RunAftersWithInfo.java"
        "com/android/tradefed/testtype/junit4/RunBeforesWithInfo.java"
        "com/android/tradefed/testtype/junit4/RunNotifierWrapper.java"
        "com/android/tradefed/testtype/junit4/builder/DeviceJUnit4ClassRunnerBuilder.java"
        "com/android/tradefed/testtype/mobly/IMoblyYamlResultHandler.java"
        "com/android/tradefed/testtype/mobly/MoblyBinaryHostTest.java"
        "com/android/tradefed/testtype/mobly/MoblyYamlResultControllerInfoHandler.java"
        "com/android/tradefed/testtype/mobly/MoblyYamlResultHandlerFactory.java"
        "com/android/tradefed/testtype/mobly/MoblyYamlResultParser.java"
        "com/android/tradefed/testtype/mobly/MoblyYamlResultRecordHandler.java"
        "com/android/tradefed/testtype/mobly/MoblyYamlResultSummaryHandler.java"
        "com/android/tradefed/testtype/mobly/MoblyYamlResultTestNameListHandler.java"
        "com/android/tradefed/testtype/mobly/MoblyYamlResultUserDataHandler.java"
        "com/android/tradefed/testtype/python/PythonBinaryHostTest.java"
        "com/android/tradefed/testtype/rust/RustBinaryHostTest.java"
        "com/android/tradefed/testtype/rust/RustBinaryTest.java"
        "com/android/tradefed/testtype/rust/RustTestBase.java"
        "com/android/tradefed/testtype/rust/RustTestResultParser.java"
        "com/android/tradefed/testtype/suite/AtestRunner.java"
        "com/android/tradefed/testtype/suite/module/CarModuleController.java"
        "com/android/tradefed/testtype/suite/module/NativeBridgeModuleController.java"
        "com/android/tradefed/testtype/suite/module/TestFailureModuleController.java"
        "com/android/tradefed/util/clockwork/ClockworkUtils.java"
        "com/android/tradefed/util/statsd/ConfigUtil.java"
        "com/android/tradefed/util/statsd/MetricUtil.java"
    ];
    static_libs = [
        "longevity-host-lib"
        "perfetto_metrics-full"
        "test-composers"
        "truth-prebuilt"
    ];
    libs = [
        "tradefed-lib-core"
        "loganalysis"
    ];
};

in { inherit tradefed-test-framework; }
