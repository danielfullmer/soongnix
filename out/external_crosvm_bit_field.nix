{ rust_library_host_rlib, rust_test_host }:
let

#  This file is generated by cargo2android.py, added defaults.

bit_field_tests = rust_test_host {
    name = "bit_field_tests";
    defaults = ["crosvm_defaults"];
    crate_name = "bit_field";
    srcs = [
        "tests/test_enum.rs"
        "tests/test_tuple_struct.rs"
    ];
    relative_install_path = "bit_field_tests";
    test_suites = ["general-tests"];
    auto_gen_config = true;
    rlibs = [
        "libbit_field"
    ];
    proc_macros = [
        "libbit_field_derive"
    ];
};

bit_field_tests_bit_field = rust_test_host {
    name = "bit_field_tests_bit_field";
    defaults = ["crosvm_defaults"];
    crate_name = "bit_field";
    srcs = ["src/lib.rs"];
    relative_install_path = "bit_field_tests";
    test_suites = ["general-tests"];
    auto_gen_config = true;
    proc_macros = [
        "libbit_field_derive"
    ];
};

libbit_field = rust_library_host_rlib {
    name = "libbit_field";
    defaults = ["crosvm_defaults"];
    crate_name = "bit_field";
    srcs = ["src/lib.rs"];
    proc_macros = [
        "libbit_field_derive"
    ];
};

in { inherit bit_field_tests bit_field_tests_bit_field libbit_field; }
