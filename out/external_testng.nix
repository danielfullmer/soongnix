{ genrule, java_library }:
let

#  Copyright (C) 2016 The Android Open Source Project
#
#  Licensed under the Apache License, Version 2.0 (the "License");
#  you may not use this file except in compliance with the License.
#  You may obtain a copy of the License at
#
#       http://www.apache.org/licenses/LICENSE-2.0
#
#  Unless required by applicable law or agreed to in writing, software
#  distributed under the License is distributed on an "AS IS" BASIS,
#  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
#  See the License for the specific language governing permissions and
#  limitations under the License.
#

#
#  Build support for testng within the Android Open Source Project
#  See https://source.android.com/source/building.html for more information
#
#
#  The following optional support has been disabled:
#  - ant
#  - bsh
#
#  JUnit support is enabled, but needs to be explicitly added in with LOCAL_STATIC_JAVA_LIBRARIES
#  by whichever app/library is also including testng.

#  These files don't exist in the source tree, they need to be generated during the build.
testng-generated-srcs = genrule {
    name = "testng-generated-srcs";
    tool_files = [
        "generate-version-file"
        "kobalt/src/Build.kt"
    ];
    srcs = [
        "src/main/resources/org/testng/internal/VersionTemplateJava"
    ];
    cmd = "$(location generate-version-file) $(in) @version@ $(location kobalt/src/Build.kt) VERSION > $(out)";
    out = ["src/generated/java/org/testng/internal/Version.java"];
};

testng = java_library {
    name = "testng";
    host_supported = true;
    hostdex = true;
    sdk_version = "core_current";

    srcs = [
        "src/main/java/com/beust/testng/TestNG.java"
        "src/main/java/com/beust/testng/TestNGAntTask.java"
        "src/main/java/org/testng/Assert.java"
        "src/main/java/org/testng/AssertJUnit.java"
        "src/main/java/org/testng/ClassMethodMap.java"
        "src/main/java/org/testng/CommandLineArgs.java"
        "src/main/java/org/testng/ConversionUtils.java"
        "src/main/java/org/testng/Converter.java"
        "src/main/java/org/testng/DependencyMap.java"
        "src/main/java/org/testng/FileAssert.java"
        "src/main/java/org/testng/IAlterSuiteListener.java"
        "src/main/java/org/testng/IAnnotationTransformer.java"
        "src/main/java/org/testng/IAnnotationTransformer2.java"
        "src/main/java/org/testng/IAnnotationTransformer3.java"
        "src/main/java/org/testng/IAttributes.java"
        "src/main/java/org/testng/IClass.java"
        "src/main/java/org/testng/IClassListener.java"
        "src/main/java/org/testng/IConfigurable.java"
        "src/main/java/org/testng/IConfigurationListener.java"
        "src/main/java/org/testng/IConfigurationListener2.java"
        "src/main/java/org/testng/IConfigureCallBack.java"
        "src/main/java/org/testng/IExecutionListener.java"
        "src/main/java/org/testng/IExpectedExceptionsHolder.java"
        "src/main/java/org/testng/IExtraOutput.java"
        "src/main/java/org/testng/IHookCallBack.java"
        "src/main/java/org/testng/IHookable.java"
        "src/main/java/org/testng/IInstanceInfo.java"
        "src/main/java/org/testng/IInvokedMethod.java"
        "src/main/java/org/testng/IInvokedMethodListener.java"
        "src/main/java/org/testng/IInvokedMethodListener2.java"
        "src/main/java/org/testng/IMethodInstance.java"
        "src/main/java/org/testng/IMethodInterceptor.java"
        "src/main/java/org/testng/IMethodSelector.java"
        "src/main/java/org/testng/IMethodSelectorContext.java"
        "src/main/java/org/testng/IModuleFactory.java"
        "src/main/java/org/testng/IObjectFactory.java"
        "src/main/java/org/testng/IObjectFactory2.java"
        "src/main/java/org/testng/IReporter.java"
        "src/main/java/org/testng/IResultMap.java"
        "src/main/java/org/testng/IRetryAnalyzer.java"
        "src/main/java/org/testng/ISuite.java"
        "src/main/java/org/testng/ISuiteListener.java"
        "src/main/java/org/testng/ISuiteResult.java"
        "src/main/java/org/testng/ITest.java"
        "src/main/java/org/testng/ITestClass.java"
        "src/main/java/org/testng/ITestClassFinder.java"
        "src/main/java/org/testng/ITestContext.java"
        "src/main/java/org/testng/ITestListener.java"
        "src/main/java/org/testng/ITestMethodFinder.java"
        "src/main/java/org/testng/ITestNGListener.java"
        "src/main/java/org/testng/ITestNGListenerFactory.java"
        "src/main/java/org/testng/ITestNGMethod.java"
        "src/main/java/org/testng/ITestObjectFactory.java"
        "src/main/java/org/testng/ITestResult.java"
        "src/main/java/org/testng/ITestRunnerFactory.java"
        "src/main/java/org/testng/InstanceOrderingMethodInterceptor.java"
        "src/main/java/org/testng/PreserveOrderMethodInterceptor.java"
        "src/main/java/org/testng/Reporter.java"
        "src/main/java/org/testng/ReporterConfig.java"
        "src/main/java/org/testng/SkipException.java"
        "src/main/java/org/testng/SuiteResult.java"
        "src/main/java/org/testng/SuiteRunState.java"
        "src/main/java/org/testng/SuiteRunner.java"
        "src/main/java/org/testng/SuiteRunnerWorker.java"
        "src/main/java/org/testng/TestClass.java"
        "src/main/java/org/testng/TestException.java"
        "src/main/java/org/testng/TestListenerAdapter.java"
        "src/main/java/org/testng/TestNG.java"
        "src/main/java/org/testng/TestNGAntTask.java"
        "src/main/java/org/testng/TestNGException.java"
        "src/main/java/org/testng/TestNGUtils.java"
        "src/main/java/org/testng/TestRunner.java"
        "src/main/java/org/testng/TimeBombSkipException.java"
        "src/main/java/org/testng/annotations/AfterClass.java"
        "src/main/java/org/testng/annotations/AfterGroups.java"
        "src/main/java/org/testng/annotations/AfterMethod.java"
        "src/main/java/org/testng/annotations/AfterSuite.java"
        "src/main/java/org/testng/annotations/AfterTest.java"
        "src/main/java/org/testng/annotations/BeforeClass.java"
        "src/main/java/org/testng/annotations/BeforeGroups.java"
        "src/main/java/org/testng/annotations/BeforeMethod.java"
        "src/main/java/org/testng/annotations/BeforeSuite.java"
        "src/main/java/org/testng/annotations/BeforeTest.java"
        "src/main/java/org/testng/annotations/Configuration.java"
        "src/main/java/org/testng/annotations/DataProvider.java"
        "src/main/java/org/testng/annotations/ExpectedExceptions.java"
        "src/main/java/org/testng/annotations/Factory.java"
        "src/main/java/org/testng/annotations/Guice.java"
        "src/main/java/org/testng/annotations/IAnnotation.java"
        "src/main/java/org/testng/annotations/IConfigurationAnnotation.java"
        "src/main/java/org/testng/annotations/IDataProviderAnnotation.java"
        "src/main/java/org/testng/annotations/IExpectedExceptionsAnnotation.java"
        "src/main/java/org/testng/annotations/IFactoryAnnotation.java"
        "src/main/java/org/testng/annotations/IListenersAnnotation.java"
        "src/main/java/org/testng/annotations/IObjectFactoryAnnotation.java"
        "src/main/java/org/testng/annotations/IParameterizable.java"
        "src/main/java/org/testng/annotations/IParametersAnnotation.java"
        "src/main/java/org/testng/annotations/ITestAnnotation.java"
        "src/main/java/org/testng/annotations/ITestOrConfiguration.java"
        "src/main/java/org/testng/annotations/Listeners.java"
        "src/main/java/org/testng/annotations/NoInjection.java"
        "src/main/java/org/testng/annotations/ObjectFactory.java"
        "src/main/java/org/testng/annotations/Optional.java"
        "src/main/java/org/testng/annotations/Parameters.java"
        "src/main/java/org/testng/annotations/Test.java"
        "src/main/java/org/testng/annotations/TestInstance.java"
        "src/main/java/org/testng/asserts/Assertion.java"
        "src/main/java/org/testng/asserts/IAssert.java"
        "src/main/java/org/testng/asserts/IAssertLifecycle.java"
        "src/main/java/org/testng/asserts/LoggingAssert.java"
        "src/main/java/org/testng/asserts/SoftAssert.java"
        "src/main/java/org/testng/collections/CollectionUtils.java"
        "src/main/java/org/testng/collections/ListMultiMap.java"
        "src/main/java/org/testng/collections/Lists.java"
        "src/main/java/org/testng/collections/Maps.java"
        "src/main/java/org/testng/collections/MultiMap.java"
        "src/main/java/org/testng/collections/Objects.java"
        "src/main/java/org/testng/collections/SetMultiMap.java"
        "src/main/java/org/testng/collections/Sets.java"
        "src/main/java/org/testng/internal/Attributes.java"
        "src/main/java/org/testng/internal/BaseClassFinder.java"
        "src/main/java/org/testng/internal/BaseTestMethod.java"
        "src/main/java/org/testng/internal/Bsh.java"
        "src/main/java/org/testng/internal/BshMock.java"
        "src/main/java/org/testng/internal/ClassHelper.java"
        "src/main/java/org/testng/internal/ClassImpl.java"
        "src/main/java/org/testng/internal/ClassInfoMap.java"
        "src/main/java/org/testng/internal/ClonedMethod.java"
        "src/main/java/org/testng/internal/Configuration.java"
        "src/main/java/org/testng/internal/ConfigurationGroupMethods.java"
        "src/main/java/org/testng/internal/ConfigurationMethod.java"
        "src/main/java/org/testng/internal/Constants.java"
        "src/main/java/org/testng/internal/ConstructorOrMethod.java"
        "src/main/java/org/testng/internal/DataProviderHolder.java"
        "src/main/java/org/testng/internal/DefaultMethodSelectorContext.java"
        "src/main/java/org/testng/internal/Dynamic.java"
        "src/main/java/org/testng/internal/DynamicGraph.java"
        "src/main/java/org/testng/internal/EclipseInterface.java"
        "src/main/java/org/testng/internal/ExpectedExceptionsHolder.java"
        "src/main/java/org/testng/internal/ExtraOutput.java"
        "src/main/java/org/testng/internal/FactoryMethod.java"
        "src/main/java/org/testng/internal/Graph.java"
        "src/main/java/org/testng/internal/IBsh.java"
        "src/main/java/org/testng/internal/IConfiguration.java"
        "src/main/java/org/testng/internal/IInvoker.java"
        "src/main/java/org/testng/internal/IPathUtils.java"
        "src/main/java/org/testng/internal/IPropertyUtils.java"
        "src/main/java/org/testng/internal/IResultListener.java"
        "src/main/java/org/testng/internal/IResultListener2.java"
        "src/main/java/org/testng/internal/ITestResultNotifier.java"
        "src/main/java/org/testng/internal/InstanceInfo.java"
        "src/main/java/org/testng/internal/InvokeMethodRunnable.java"
        "src/main/java/org/testng/internal/InvokedMethod.java"
        "src/main/java/org/testng/internal/Invoker.java"
        "src/main/java/org/testng/internal/MethodGroupsHelper.java"
        "src/main/java/org/testng/internal/MethodHelper.java"
        "src/main/java/org/testng/internal/MethodInheritance.java"
        "src/main/java/org/testng/internal/MethodInstance.java"
        "src/main/java/org/testng/internal/MethodInvocationHelper.java"
        "src/main/java/org/testng/internal/MethodSelectorDescriptor.java"
        "src/main/java/org/testng/internal/NoOpTestClass.java"
        "src/main/java/org/testng/internal/Nullable.java"
        "src/main/java/org/testng/internal/ObjectFactoryImpl.java"
        "src/main/java/org/testng/internal/OverrideProcessor.java"
        "src/main/java/org/testng/internal/PackageUtils.java"
        "src/main/java/org/testng/internal/ParameterHolder.java"
        "src/main/java/org/testng/internal/Parameters.java"
        "src/main/java/org/testng/internal/PathUtils.java"
        "src/main/java/org/testng/internal/PathUtilsFactory.java"
        "src/main/java/org/testng/internal/PathUtilsMock.java"
        "src/main/java/org/testng/internal/PoolService.java"
        "src/main/java/org/testng/internal/PropertiesFile.java"
        "src/main/java/org/testng/internal/PropertyUtils.java"
        "src/main/java/org/testng/internal/PropertyUtilsFactory.java"
        "src/main/java/org/testng/internal/PropertyUtilsMock.java"
        "src/main/java/org/testng/internal/RegexpExpectedExceptionsHolder.java"
        "src/main/java/org/testng/internal/ResultMap.java"
        "src/main/java/org/testng/internal/RunInfo.java"
        "src/main/java/org/testng/internal/SuiteRunnerMap.java"
        "src/main/java/org/testng/internal/Tarjan.java"
        "src/main/java/org/testng/internal/TestMethodWithDataProviderMethodWorker.java"
        "src/main/java/org/testng/internal/TestMethodWorker.java"
        "src/main/java/org/testng/internal/TestNGClassFinder.java"
        "src/main/java/org/testng/internal/TestNGMethod.java"
        "src/main/java/org/testng/internal/TestNGMethodFinder.java"
        "src/main/java/org/testng/internal/TestNGProperty.java"
        "src/main/java/org/testng/internal/TestResult.java"
        "src/main/java/org/testng/internal/Utils.java"
        "src/main/java/org/testng/internal/XmlMethodSelector.java"
        "src/main/java/org/testng/internal/Yaml.java"
        "src/main/java/org/testng/internal/YamlParser.java"
        "src/main/java/org/testng/internal/annotations/AfterSuiteAnnotation.java"
        "src/main/java/org/testng/internal/annotations/AnnotationHelper.java"
        "src/main/java/org/testng/internal/annotations/BaseAnnotation.java"
        "src/main/java/org/testng/internal/annotations/BaseBeforeAfter.java"
        "src/main/java/org/testng/internal/annotations/BeforeSuiteAnnotation.java"
        "src/main/java/org/testng/internal/annotations/ConfigurationAnnotation.java"
        "src/main/java/org/testng/internal/annotations/Converter.java"
        "src/main/java/org/testng/internal/annotations/DataProviderAnnotation.java"
        "src/main/java/org/testng/internal/annotations/DefaultAnnotationTransformer.java"
        "src/main/java/org/testng/internal/annotations/ExpectedExceptionsAnnotation.java"
        "src/main/java/org/testng/internal/annotations/FactoryAnnotation.java"
        "src/main/java/org/testng/internal/annotations/IAfterClass.java"
        "src/main/java/org/testng/internal/annotations/IAfterGroups.java"
        "src/main/java/org/testng/internal/annotations/IAfterMethod.java"
        "src/main/java/org/testng/internal/annotations/IAfterSuite.java"
        "src/main/java/org/testng/internal/annotations/IAfterTest.java"
        "src/main/java/org/testng/internal/annotations/IAfterTests.java"
        "src/main/java/org/testng/internal/annotations/IAnnotationFinder.java"
        "src/main/java/org/testng/internal/annotations/IAnnotationTransformer.java"
        "src/main/java/org/testng/internal/annotations/IBaseBeforeAfter.java"
        "src/main/java/org/testng/internal/annotations/IBeforeClass.java"
        "src/main/java/org/testng/internal/annotations/IBeforeGroups.java"
        "src/main/java/org/testng/internal/annotations/IBeforeMethod.java"
        "src/main/java/org/testng/internal/annotations/IBeforeSuite.java"
        "src/main/java/org/testng/internal/annotations/IBeforeTest.java"
        "src/main/java/org/testng/internal/annotations/IDataProvidable.java"
        "src/main/java/org/testng/internal/annotations/IListeners.java"
        "src/main/java/org/testng/internal/annotations/ITest.java"
        "src/main/java/org/testng/internal/annotations/JDK15AnnotationFinder.java"
        "src/main/java/org/testng/internal/annotations/JDK15TagFactory.java"
        "src/main/java/org/testng/internal/annotations/ListenersAnnotation.java"
        "src/main/java/org/testng/internal/annotations/ObjectFactoryAnnotation.java"
        "src/main/java/org/testng/internal/annotations/ParametersAnnotation.java"
        "src/main/java/org/testng/internal/annotations/TestAnnotation.java"
        "src/main/java/org/testng/internal/annotations/TestOrConfiguration.java"
        "src/main/java/org/testng/internal/collections/Pair.java"
        "src/main/java/org/testng/internal/invokers/InvokedMethodListenerInvoker.java"
        "src/main/java/org/testng/internal/invokers/InvokedMethodListenerMethod.java"
        "src/main/java/org/testng/internal/invokers/InvokedMethodListenerSubtype.java"
        "src/main/java/org/testng/internal/junit/ArrayAsserts.java"
        "src/main/java/org/testng/internal/junit/ArrayComparisonFailure.java"
        "src/main/java/org/testng/internal/junit/ComparisonCriteria.java"
        "src/main/java/org/testng/internal/junit/ExactComparisonCriteria.java"
        "src/main/java/org/testng/internal/junit/InexactComparisonCriteria.java"
        "src/main/java/org/testng/internal/remote/SlavePool.java"
        "src/main/java/org/testng/internal/remote/SocketLinkedBlockingQueue.java"
        "src/main/java/org/testng/internal/thread/ExecutorAdapter.java"
        "src/main/java/org/testng/internal/thread/FutureResultAdapter.java"
        "src/main/java/org/testng/internal/thread/IExecutor.java"
        "src/main/java/org/testng/internal/thread/IFutureResult.java"
        "src/main/java/org/testng/internal/thread/IThreadFactory.java"
        "src/main/java/org/testng/internal/thread/TestNGThread.java"
        "src/main/java/org/testng/internal/thread/ThreadExecutionException.java"
        "src/main/java/org/testng/internal/thread/ThreadTimeoutException.java"
        "src/main/java/org/testng/internal/thread/ThreadUtil.java"
        "src/main/java/org/testng/internal/thread/graph/GraphThreadPoolExecutor.java"
        "src/main/java/org/testng/internal/thread/graph/IThreadWorkerFactory.java"
        "src/main/java/org/testng/internal/thread/graph/IWorker.java"
        "src/main/java/org/testng/internal/thread/graph/SuiteWorkerFactory.java"
        "src/main/java/org/testng/junit/IJUnitTestRunner.java"
        "src/main/java/org/testng/junit/JUnit3TestClass.java"
        "src/main/java/org/testng/junit/JUnit3TestMethod.java"
        "src/main/java/org/testng/junit/JUnit3TestRecognizer.java"
        "src/main/java/org/testng/junit/JUnit4TestClass.java"
        "src/main/java/org/testng/junit/JUnit4TestMethod.java"
        "src/main/java/org/testng/junit/JUnit4TestRecognizer.java"
        "src/main/java/org/testng/junit/JUnit4TestRunner.java"
        "src/main/java/org/testng/junit/JUnitMethodFinder.java"
        "src/main/java/org/testng/junit/JUnitTestClass.java"
        "src/main/java/org/testng/junit/JUnitTestFinder.java"
        "src/main/java/org/testng/junit/JUnitTestMethod.java"
        "src/main/java/org/testng/junit/JUnitTestRecognizer.java"
        "src/main/java/org/testng/junit/JUnitTestRunner.java"
        "src/main/java/org/testng/log/TextFormatter.java"
        "src/main/java/org/testng/log4testng/Logger.java"
        "src/main/java/org/testng/mustache/BaseChunk.java"
        "src/main/java/org/testng/mustache/Model.java"
        "src/main/java/org/testng/mustache/Mustache.java"
        "src/main/java/org/testng/mustache/StringChunk.java"
        "src/main/java/org/testng/mustache/Value.java"
        "src/main/java/org/testng/mustache/VariableChunk.java"
        "src/main/java/org/testng/remote/ConnectionInfo.java"
        "src/main/java/org/testng/remote/RemoteArgs.java"
        "src/main/java/org/testng/remote/RemoteSuiteWorker.java"
        "src/main/java/org/testng/remote/RemoteTestNG.java"
        "src/main/java/org/testng/remote/RemoteWorker.java"
        "src/main/java/org/testng/remote/SuiteDispatcher.java"
        "src/main/java/org/testng/remote/SuiteSlave.java"
        "src/main/java/org/testng/remote/adapter/DefaultMastertAdapter.java"
        "src/main/java/org/testng/remote/adapter/DefaultWorkerAdapter.java"
        "src/main/java/org/testng/remote/adapter/IMasterAdapter.java"
        "src/main/java/org/testng/remote/adapter/IWorkerAdapter.java"
        "src/main/java/org/testng/remote/adapter/RemoteResultListener.java"
        "src/main/java/org/testng/remote/strprotocol/AbstractRemoteTestRunnerClient.java"
        "src/main/java/org/testng/remote/strprotocol/BaseMessageSender.java"
        "src/main/java/org/testng/remote/strprotocol/GenericMessage.java"
        "src/main/java/org/testng/remote/strprotocol/IMessage.java"
        "src/main/java/org/testng/remote/strprotocol/IMessageSender.java"
        "src/main/java/org/testng/remote/strprotocol/IRemoteSuiteListener.java"
        "src/main/java/org/testng/remote/strprotocol/IRemoteTestListener.java"
        "src/main/java/org/testng/remote/strprotocol/IStringMessage.java"
        "src/main/java/org/testng/remote/strprotocol/MessageHelper.java"
        "src/main/java/org/testng/remote/strprotocol/MessageHub.java"
        "src/main/java/org/testng/remote/strprotocol/RemoteTestListener.java"
        "src/main/java/org/testng/remote/strprotocol/SerializedMessageSender.java"
        "src/main/java/org/testng/remote/strprotocol/StringMessageSender.java"
        "src/main/java/org/testng/remote/strprotocol/SuiteMessage.java"
        "src/main/java/org/testng/remote/strprotocol/TestMessage.java"
        "src/main/java/org/testng/remote/strprotocol/TestResultMessage.java"
        "src/main/java/org/testng/reporters/Buffer.java"
        "src/main/java/org/testng/reporters/DotTestListener.java"
        "src/main/java/org/testng/reporters/EmailableReporter.java"
        "src/main/java/org/testng/reporters/EmailableReporter2.java"
        "src/main/java/org/testng/reporters/ExitCodeListener.java"
        "src/main/java/org/testng/reporters/FailedReporter.java"
        "src/main/java/org/testng/reporters/FileStringBuffer.java"
        "src/main/java/org/testng/reporters/Files.java"
        "src/main/java/org/testng/reporters/HtmlHelper.java"
        "src/main/java/org/testng/reporters/IBuffer.java"
        "src/main/java/org/testng/reporters/JUnitReportReporter.java"
        "src/main/java/org/testng/reporters/JUnitXMLReporter.java"
        "src/main/java/org/testng/reporters/JqReporter.java"
        "src/main/java/org/testng/reporters/SuiteHTMLReporter.java"
        "src/main/java/org/testng/reporters/TestHTMLReporter.java"
        "src/main/java/org/testng/reporters/TextReporter.java"
        "src/main/java/org/testng/reporters/VerboseReporter.java"
        "src/main/java/org/testng/reporters/XMLConstants.java"
        "src/main/java/org/testng/reporters/XMLReporter.java"
        "src/main/java/org/testng/reporters/XMLReporterConfig.java"
        "src/main/java/org/testng/reporters/XMLStringBuffer.java"
        "src/main/java/org/testng/reporters/XMLSuiteResultWriter.java"
        "src/main/java/org/testng/reporters/XMLUtils.java"
        "src/main/java/org/testng/reporters/jq/BannerPanel.java"
        "src/main/java/org/testng/reporters/jq/BaseMultiSuitePanel.java"
        "src/main/java/org/testng/reporters/jq/BasePanel.java"
        "src/main/java/org/testng/reporters/jq/ChronologicalPanel.java"
        "src/main/java/org/testng/reporters/jq/GroupPanel.java"
        "src/main/java/org/testng/reporters/jq/INavigatorPanel.java"
        "src/main/java/org/testng/reporters/jq/IPanel.java"
        "src/main/java/org/testng/reporters/jq/IgnoredMethodsPanel.java"
        "src/main/java/org/testng/reporters/jq/Main.java"
        "src/main/java/org/testng/reporters/jq/Model.java"
        "src/main/java/org/testng/reporters/jq/NavigatorPanel.java"
        "src/main/java/org/testng/reporters/jq/ReporterPanel.java"
        "src/main/java/org/testng/reporters/jq/ResultsByClass.java"
        "src/main/java/org/testng/reporters/jq/SuitePanel.java"
        "src/main/java/org/testng/reporters/jq/TestNgXmlPanel.java"
        "src/main/java/org/testng/reporters/jq/TestPanel.java"
        "src/main/java/org/testng/reporters/jq/TimesPanel.java"
        "src/main/java/org/testng/reporters/util/StackTraceTools.java"
        "src/main/java/org/testng/util/RetryAnalyzerCount.java"
        "src/main/java/org/testng/util/Strings.java"
        "src/main/java/org/testng/xml/IFileParser.java"
        "src/main/java/org/testng/xml/IPostProcessor.java"
        "src/main/java/org/testng/xml/ISuiteParser.java"
        "src/main/java/org/testng/xml/LaunchSuite.java"
        "src/main/java/org/testng/xml/Parameters.java"
        "src/main/java/org/testng/xml/Parser.java"
        "src/main/java/org/testng/xml/ResultContentHandler.java"
        "src/main/java/org/testng/xml/ResultXMLParser.java"
        "src/main/java/org/testng/xml/SuiteGenerator.java"
        "src/main/java/org/testng/xml/SuiteXmlParser.java"
        "src/main/java/org/testng/xml/TestNGContentHandler.java"
        "src/main/java/org/testng/xml/XMLParser.java"
        "src/main/java/org/testng/xml/XmlClass.java"
        "src/main/java/org/testng/xml/XmlDefine.java"
        "src/main/java/org/testng/xml/XmlDependencies.java"
        "src/main/java/org/testng/xml/XmlGroups.java"
        "src/main/java/org/testng/xml/XmlInclude.java"
        "src/main/java/org/testng/xml/XmlMethodSelector.java"
        "src/main/java/org/testng/xml/XmlMethodSelectors.java"
        "src/main/java/org/testng/xml/XmlPackage.java"
        "src/main/java/org/testng/xml/XmlRun.java"
        "src/main/java/org/testng/xml/XmlScript.java"
        "src/main/java/org/testng/xml/XmlSuite.java"
        "src/main/java/org/testng/xml/XmlTest.java"
        "src/main/java/org/testng/xml/XmlUtils.java"
        "src/main/java/org/testng/xml/dom/DomUtil.java"
        "src/main/java/org/testng/xml/dom/DomXmlParser.java"
        "src/main/java/org/testng/xml/dom/ITagFactory.java"
        "src/main/java/org/testng/xml/dom/ITagSetter.java"
        "src/main/java/org/testng/xml/dom/OnElement.java"
        "src/main/java/org/testng/xml/dom/OnElementList.java"
        "src/main/java/org/testng/xml/dom/ParentSetter.java"
        "src/main/java/org/testng/xml/dom/Reflect.java"
        "src/main/java/org/testng/xml/dom/Tag.java"
        "src/main/java/org/testng/xml/dom/TagContent.java"
        "src/main/java/org/testng/xml/dom/TestNGTagFactory.java"
        "src/main/java/org/testng/xml/dom/Wrapper.java"
        "src/main/java/org/testng/xml/dom/XDom.java"
        ":testng-generated-srcs"
        #  Android-specific replacements of some of the excluded files.
        "android-src/java/org/testng/internal/Bsh.java"
    ];
    exclude_srcs = [
        #  These files don't build on Android, either due to missing java.* APIs or due to missing dependencies (see above).
        "src/main/java/com/beust/testng/TestNGAntTask.java"
        "src/main/java/org/testng/TestNGAntTask.java"
        "src/main/java/org/testng/internal/Bsh.java"
        "src/main/java/org/testng/internal/PropertyUtils.java"
        "src/main/java/org/testng/internal/PathUtils.java"
    ];

    static_libs = [
        "jcommander"
        "snakeyaml"
        "guice"
    ];
    libs = ["junit"];
};

#  TODO: also add the tests once we have testng working.

in { inherit testng testng-generated-srcs; }
