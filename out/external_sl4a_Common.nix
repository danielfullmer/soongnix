{ java_library }:
let

#
#   Copyright (C) 2017 Google, Inc.
#
#   Licensed under the Apache License, Version 2.0 (the "License");
#   you may not use this file except in compliance with the License.
#   You may obtain a copy of the License at:
#
#   http://www.apache.org/licenses/LICENSE-2.0
#
#   Unless required by applicable law or agreed to in writing, software
#   distributed under the License is distributed on an "AS IS" BASIS,
#   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
#   See the License for the specific language governing permissions and
#   limitations under the License.
#

"sl4a.Common" = java_library {
    name = "sl4a.Common";
    owner = "google";

    static_libs = [
        "guava"
        "android-common"
        "sl4a.Utils"
        "junit"
    ];

    sdk_version = "core_platform";
    libs = [
        "framework-wifi.impl" #  allow SL4A to access @hide Wifi APIs
        "framework"

        "telephony-common"
        "ims-common"
    ];

    srcs = [
        "src/com/googlecode/android_scripting/BaseApplication.java"
        "src/com/googlecode/android_scripting/Constants.java"
        "src/com/googlecode/android_scripting/Exec.java"
        "src/com/googlecode/android_scripting/FeaturedInterpreters.java"
        "src/com/googlecode/android_scripting/FutureActivityTaskExecutor.java"
        "src/com/googlecode/android_scripting/IntentBuilders.java"
        "src/com/googlecode/android_scripting/Process.java"
        "src/com/googlecode/android_scripting/Sl4aErrors.java"
        "src/com/googlecode/android_scripting/Sl4aException.java"
        "src/com/googlecode/android_scripting/Version.java"
        "src/com/googlecode/android_scripting/activity/FutureActivity.java"
        "src/com/googlecode/android_scripting/event/Event.java"
        "src/com/googlecode/android_scripting/event/EventObserver.java"
        "src/com/googlecode/android_scripting/facade/ActivityResultFacade.java"
        "src/com/googlecode/android_scripting/facade/AndroidFacade.java"
        "src/com/googlecode/android_scripting/facade/ApplicationManagerFacade.java"
        "src/com/googlecode/android_scripting/facade/BatteryManagerFacade.java"
        "src/com/googlecode/android_scripting/facade/CallLogFacade.java"
        "src/com/googlecode/android_scripting/facade/CameraFacade.java"
        "src/com/googlecode/android_scripting/facade/CertInstallerHelper.java"
        "src/com/googlecode/android_scripting/facade/CommonIntentsFacade.java"
        "src/com/googlecode/android_scripting/facade/ConnectivityConstants.java"
        "src/com/googlecode/android_scripting/facade/ConnectivityEvents.java"
        "src/com/googlecode/android_scripting/facade/ConnectivityManagerFacade.java"
        "src/com/googlecode/android_scripting/facade/ContactsFacade.java"
        "src/com/googlecode/android_scripting/facade/DataUsageController.java"
        "src/com/googlecode/android_scripting/facade/DisplayFacade.java"
        "src/com/googlecode/android_scripting/facade/EventFacade.java"
        "src/com/googlecode/android_scripting/facade/FacadeManager.java"
        "src/com/googlecode/android_scripting/facade/FacadeManagerFactory.java"
        "src/com/googlecode/android_scripting/facade/LocationFacade.java"
        "src/com/googlecode/android_scripting/facade/NfcManagerFacade.java"
        "src/com/googlecode/android_scripting/facade/PreferencesFacade.java"
        "src/com/googlecode/android_scripting/facade/SensorManagerFacade.java"
        "src/com/googlecode/android_scripting/facade/SettingsFacade.java"
        "src/com/googlecode/android_scripting/facade/SpeechRecognitionFacade.java"
        "src/com/googlecode/android_scripting/facade/TextToSpeechFacade.java"
        "src/com/googlecode/android_scripting/facade/ToneGeneratorFacade.java"
        "src/com/googlecode/android_scripting/facade/VpnFacade.java"
        "src/com/googlecode/android_scripting/facade/WakeLockFacade.java"
        "src/com/googlecode/android_scripting/facade/bluetooth/BluetoothA2dpFacade.java"
        "src/com/googlecode/android_scripting/facade/bluetooth/BluetoothA2dpSinkFacade.java"
        "src/com/googlecode/android_scripting/facade/bluetooth/BluetoothAvrcpFacade.java"
        "src/com/googlecode/android_scripting/facade/bluetooth/BluetoothBroadcastHelper.java"
        "src/com/googlecode/android_scripting/facade/bluetooth/BluetoothConnection.java"
        "src/com/googlecode/android_scripting/facade/bluetooth/BluetoothConnectionFacade.java"
        "src/com/googlecode/android_scripting/facade/bluetooth/BluetoothDiscoveryHelper.java"
        "src/com/googlecode/android_scripting/facade/bluetooth/BluetoothFacade.java"
        "src/com/googlecode/android_scripting/facade/bluetooth/BluetoothHfpClientFacade.java"
        "src/com/googlecode/android_scripting/facade/bluetooth/BluetoothHidDeviceFacade.java"
        "src/com/googlecode/android_scripting/facade/bluetooth/BluetoothHidFacade.java"
        "src/com/googlecode/android_scripting/facade/bluetooth/BluetoothHidInputCounterTask.java"
        "src/com/googlecode/android_scripting/facade/bluetooth/BluetoothHspFacade.java"
        "src/com/googlecode/android_scripting/facade/bluetooth/BluetoothLeAdvertiseFacade.java"
        "src/com/googlecode/android_scripting/facade/bluetooth/BluetoothLeAdvertisingSetFacade.java"
        "src/com/googlecode/android_scripting/facade/bluetooth/BluetoothLeScanFacade.java"
        "src/com/googlecode/android_scripting/facade/bluetooth/BluetoothMapClientFacade.java"
        "src/com/googlecode/android_scripting/facade/bluetooth/BluetoothMapFacade.java"
        "src/com/googlecode/android_scripting/facade/bluetooth/BluetoothMediaFacade.java"
        "src/com/googlecode/android_scripting/facade/bluetooth/BluetoothPairingHelper.java"
        "src/com/googlecode/android_scripting/facade/bluetooth/BluetoothPanFacade.java"
        "src/com/googlecode/android_scripting/facade/bluetooth/BluetoothPbapClientFacade.java"
        "src/com/googlecode/android_scripting/facade/bluetooth/BluetoothRfcommFacade.java"
        "src/com/googlecode/android_scripting/facade/bluetooth/BluetoothSocketConnFacade.java"
        "src/com/googlecode/android_scripting/facade/bluetooth/GattClientFacade.java"
        "src/com/googlecode/android_scripting/facade/bluetooth/GattServerFacade.java"
        "src/com/googlecode/android_scripting/facade/bluetooth/media/BluetoothMediaPlayback.java"
        "src/com/googlecode/android_scripting/facade/bluetooth/media/BluetoothSL4AAudioSrcMBS.java"
        "src/com/googlecode/android_scripting/facade/media/AudioManagerFacade.java"
        "src/com/googlecode/android_scripting/facade/media/MediaButtonCallback.java"
        "src/com/googlecode/android_scripting/facade/media/MediaPlayerFacade.java"
        "src/com/googlecode/android_scripting/facade/media/MediaRecorderFacade.java"
        "src/com/googlecode/android_scripting/facade/media/MediaScannerFacade.java"
        "src/com/googlecode/android_scripting/facade/media/MediaSessionFacade.java"
        "src/com/googlecode/android_scripting/facade/net/IpSecManagerFacade.java"
        "src/com/googlecode/android_scripting/facade/net/SocketFacade.java"
        "src/com/googlecode/android_scripting/facade/net/SocketKeepaliveFacade.java"
        "src/com/googlecode/android_scripting/facade/net/nsd/NsdManagerFacade.java"
        "src/com/googlecode/android_scripting/facade/telephony/CarrierConfigFacade.java"
        "src/com/googlecode/android_scripting/facade/telephony/ImsManagerFacade.java"
        "src/com/googlecode/android_scripting/facade/telephony/ImsMmTelManagerFacade.java"
        "src/com/googlecode/android_scripting/facade/telephony/InCallServiceImpl.java"
        "src/com/googlecode/android_scripting/facade/telephony/MmsFileProvider.java"
        "src/com/googlecode/android_scripting/facade/telephony/ProvisioningManagerFacade.java"
        "src/com/googlecode/android_scripting/facade/telephony/SmsFacade.java"
        "src/com/googlecode/android_scripting/facade/telephony/SubscriptionManagerFacade.java"
        "src/com/googlecode/android_scripting/facade/telephony/TelecomCallFacade.java"
        "src/com/googlecode/android_scripting/facade/telephony/TelecomManagerFacade.java"
        "src/com/googlecode/android_scripting/facade/telephony/TelephonyConstants.java"
        "src/com/googlecode/android_scripting/facade/telephony/TelephonyEvents.java"
        "src/com/googlecode/android_scripting/facade/telephony/TelephonyManagerFacade.java"
        "src/com/googlecode/android_scripting/facade/telephony/TelephonyStateListeners.java"
        "src/com/googlecode/android_scripting/facade/telephony/TelephonyUtils.java"
        "src/com/googlecode/android_scripting/facade/ui/AlertDialogTask.java"
        "src/com/googlecode/android_scripting/facade/ui/DatePickerDialogTask.java"
        "src/com/googlecode/android_scripting/facade/ui/DialogTask.java"
        "src/com/googlecode/android_scripting/facade/ui/FullScreenTask.java"
        "src/com/googlecode/android_scripting/facade/ui/ProgressDialogTask.java"
        "src/com/googlecode/android_scripting/facade/ui/SeekBarDialogTask.java"
        "src/com/googlecode/android_scripting/facade/ui/TimePickerDialogTask.java"
        "src/com/googlecode/android_scripting/facade/ui/UiFacade.java"
        "src/com/googlecode/android_scripting/facade/ui/ViewInflater.java"
        "src/com/googlecode/android_scripting/facade/webcam/JpegProvider.java"
        "src/com/googlecode/android_scripting/facade/webcam/MjpegServer.java"
        "src/com/googlecode/android_scripting/facade/webcam/WebCamFacade.java"
        "src/com/googlecode/android_scripting/facade/wifi/HttpFacade.java"
        "src/com/googlecode/android_scripting/facade/wifi/WifiAwareManagerFacade.java"
        "src/com/googlecode/android_scripting/facade/wifi/WifiConstants.java"
        "src/com/googlecode/android_scripting/facade/wifi/WifiJsonParser.java"
        "src/com/googlecode/android_scripting/facade/wifi/WifiManagerFacade.java"
        "src/com/googlecode/android_scripting/facade/wifi/WifiP2pManagerFacade.java"
        "src/com/googlecode/android_scripting/facade/wifi/WifiRtt2ManagerFacade.java"
        "src/com/googlecode/android_scripting/facade/wifi/WifiRttManagerFacade.java"
        "src/com/googlecode/android_scripting/facade/wifi/WifiScannerFacade.java"
        "src/com/googlecode/android_scripting/future/FutureActivityTask.java"
        "src/com/googlecode/android_scripting/interpreter/InProcessInterpreter.java"
        "src/com/googlecode/android_scripting/interpreter/Interpreter.java"
        "src/com/googlecode/android_scripting/interpreter/InterpreterConfiguration.java"
        "src/com/googlecode/android_scripting/interpreter/html/HtmlActivityTask.java"
        "src/com/googlecode/android_scripting/interpreter/shell/ShellInterpreter.java"
        "src/com/googlecode/android_scripting/jsonrpc/JsonBuilder.java"
        "src/com/googlecode/android_scripting/jsonrpc/JsonDeserializable.java"
        "src/com/googlecode/android_scripting/jsonrpc/JsonRpcHandler.java"
        "src/com/googlecode/android_scripting/jsonrpc/JsonRpcResult.java"
        "src/com/googlecode/android_scripting/jsonrpc/JsonRpcServer.java"
        "src/com/googlecode/android_scripting/jsonrpc/JsonSerializable.java"
        "src/com/googlecode/android_scripting/jsonrpc/RpcReceiver.java"
        "src/com/googlecode/android_scripting/jsonrpc/RpcReceiverManager.java"
        "src/com/googlecode/android_scripting/jsonrpc/RpcReceiverManagerFactory.java"
        "src/com/googlecode/android_scripting/language/BeanShellLanguage.java"
        "src/com/googlecode/android_scripting/language/HtmlLanguage.java"
        "src/com/googlecode/android_scripting/language/JavaScriptLanguage.java"
        "src/com/googlecode/android_scripting/language/Language.java"
        "src/com/googlecode/android_scripting/language/LuaLanguage.java"
        "src/com/googlecode/android_scripting/language/PerlLanguage.java"
        "src/com/googlecode/android_scripting/language/PhpLanguage.java"
        "src/com/googlecode/android_scripting/language/PythonLanguage.java"
        "src/com/googlecode/android_scripting/language/RubyLanguage.java"
        "src/com/googlecode/android_scripting/language/ShellLanguage.java"
        "src/com/googlecode/android_scripting/language/SleepLanguage.java"
        "src/com/googlecode/android_scripting/language/SquirrelLanguage.java"
        "src/com/googlecode/android_scripting/language/SupportedLanguages.java"
        "src/com/googlecode/android_scripting/language/TclLanguage.java"
        "src/com/googlecode/android_scripting/rpc/Converter.java"
        "src/com/googlecode/android_scripting/rpc/MethodDescriptor.java"
        "src/com/googlecode/android_scripting/rpc/ParameterDescriptor.java"
        "src/com/googlecode/android_scripting/rpc/Rpc.java"
        "src/com/googlecode/android_scripting/rpc/RpcDefault.java"
        "src/com/googlecode/android_scripting/rpc/RpcDeprecated.java"
        "src/com/googlecode/android_scripting/rpc/RpcError.java"
        "src/com/googlecode/android_scripting/rpc/RpcMinSdk.java"
        "src/com/googlecode/android_scripting/rpc/RpcName.java"
        "src/com/googlecode/android_scripting/rpc/RpcOptional.java"
        "src/com/googlecode/android_scripting/rpc/RpcParameter.java"
        "src/com/googlecode/android_scripting/rpc/RpcStartEvent.java"
        "src/com/googlecode/android_scripting/rpc/RpcStopEvent.java"
        "src/com/googlecode/android_scripting/trigger/ScriptTrigger.java"
        "src/com/googlecode/android_scripting/trigger/Trigger.java"
        "src/com/googlecode/android_scripting/trigger/TriggerRepository.java"
        "src/com/googlecode/android_scripting/util/VisibleForTesting.java"
        "src/org/apache/commons/codec/BinaryDecoder.java"
        "src/org/apache/commons/codec/BinaryEncoder.java"
        "src/org/apache/commons/codec/CharEncoding.java"
        "src/org/apache/commons/codec/Decoder.java"
        "src/org/apache/commons/codec/DecoderException.java"
        "src/org/apache/commons/codec/Encoder.java"
        "src/org/apache/commons/codec/EncoderException.java"
        "src/org/apache/commons/codec/binary/Base64Codec.java"
        "src/org/apache/commons/codec/binary/StringUtils.java"
    ];
};

in { inherit "sl4a.Common"; }
